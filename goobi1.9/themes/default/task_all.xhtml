<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	template="/themes/default/template/template.html"
	xmlns:x="http://myfaces.apache.org/tomahawk"
	xmlns:s="http://myfaces.apache.org/sandbox">


	<ui:define name="breadcrumb">
		<h:commandLink id="id2" value="#{msgs.startseite}" action="index" />
		<f:verbatim> &#8250;&#8250; </f:verbatim>
		<h:outputText value="#{msgs.aktuelleSchritte}" />

	</ui:define>

	<ui:define name="title">
		<h:outputText value="#{msgs.aktuelleSchritte}" />

	</ui:define>

	<ui:define name="content">

		<h:form id="taskform">
			<h4>
				<h:outputText value="#{msgs.meineAufgabenMsg}" />
			</h4>

			<!-- +++++++++++++++++  Anzeigefilter ++++++++++++++++++++++++ -->

			<x:aliasBeansScope>
				<x:aliasBean alias="#{Form}" value="#{AktuelleSchritteForm}" />
				<x:aliasBean alias="#{showUserRelatedFilter}" value="#{true}" />
				<x:aliasBean alias="#{showHits}" value="#{true}" />
				<f:subview id="sub1">
					<ui:include src="includes/task/list_filter.xhtml" />
				</f:subview>
			</x:aliasBeansScope>

			<x:dataTable id="auflistung" styleClass="standardTable" width="100%"
				cellspacing="1px" cellpadding="1px"
				headerClass="standardTable_Header"
				rowClasses="standardTable_Row1,standardTable_Row2,standardTable_Row1,standardTable_Row2"
				var="item" value="#{AktuelleSchritteForm.page.listReload}">

				<!-- +++++++++++++++++  SelectionBoxes ++++++++++++++++++++++++ 
			-->
				<x:column style="text-align:center"
					rendered="#{AktuelleSchritteForm.anzeigeAnpassen['selectionBoxes']}">
					<f:facet name="header">
						<x:div>
							<!-- Header -->
							<h:outputText value="#{msgs.auswahl2}" />
							<h:commandLink action="#{AktuelleSchritteForm.SelectionAll}"
								id="selectAll" title="#{msgs.alleAuswaehlen}"
								style="margin-left:10px">
								<h:graphicImage value="/newpages/images/check_true.gif" />
							</h:commandLink>
							<h:commandLink action="#{AktuelleSchritteForm.SelectionNone}"
								id="selectnone" title="#{msgs.auswahlEntfernen}"
								style="margin-left:5px">
								<h:graphicImage value="/newpages/images/check_false.gif" />
							</h:commandLink>
						</x:div>
					</f:facet>
					<h:commandLink id="myself1">
						<h:graphicImage value="/newpages/images/check_true.gif"
							style="margin-right:4px" rendered="#{item.selected}" />
						<h:graphicImage value="/newpages/images/check_false.gif"
							style="margin-right:4px" rendered="#{!item.selected}" />
						<x:updateActionListener value="#{item.selected?false:true}"
							property="#{item.selected}" />
					</h:commandLink>
				</x:column>

				<!-- +++++++++++++++++  ProzessID ++++++++++++++++++++++++ 
			-->
				<x:column style="text-align:center"
					rendered="#{AktuelleSchritteForm.anzeigeAnpassen['processId']}">
					<f:facet name="header">
						<h:outputText value="#{msgs.id}" />
					</f:facet>
					<h:outputText value="#{item.prozess.id}" />
				</x:column>

				<!-- -->
				<x:column style="text-align:left" rendered="#{true}">
					<f:facet name="header">
						<x:div>
							<!-- Header -->
							<h:outputText value="#{msgs.arbeitsschritt}" />
							<!-- Sortierung Asc -->
							<h:commandLink action="#{AktuelleSchritteForm.FilterAlleStart}"
								id="sort1"
								rendered="#{AktuelleSchritteForm.sortierung=='schrittAsc'}">
								<h:graphicImage value="/newpages/images/sorting/asc.gif"
									style="vertical-align:middle;margin-left:5px" />
								<x:updateActionListener
									property="#{AktuelleSchritteForm.sortierung}"
									value="schrittDesc" />
							</h:commandLink>
							<!-- Sortierung Desc -->
							<h:commandLink action="#{AktuelleSchritteForm.FilterAlleStart}"
								id="sort2"
								rendered="#{AktuelleSchritteForm.sortierung=='schrittDesc'}">
								<h:graphicImage value="/newpages/images/sorting/desc.gif"
									style="vertical-align:middle;margin-left:5px" />
								<x:updateActionListener
									property="#{AktuelleSchritteForm.sortierung}"
									value="schrittAsc" />
							</h:commandLink>
							<!-- Sortierung none -->
							<h:commandLink action="#{AktuelleSchritteForm.FilterAlleStart}"
								id="sort3"
								rendered="#{AktuelleSchritteForm.sortierung!='schrittDesc' and AktuelleSchritteForm.sortierung!='schrittAsc'}">
								<h:graphicImage value="/newpages/images/sorting/none.gif"
									style="vertical-align:middle;margin-left:5px" />
								<x:updateActionListener
									property="#{AktuelleSchritteForm.sortierung}"
									value="schrittAsc" />
							</h:commandLink>
						</x:div>
					</f:facet>

					<h:panelGroup id="auflistungIntern">
						<h:commandLink id="myself" style="color:black;margin-left:4px">
							<h:graphicImage value="/newpages/images/plus.gif"
								style="margin-right:4px" rendered="#{!item.panelAusgeklappt}" />
							<h:graphicImage value="/newpages/images/minus.gif"
								style="margin-right:4px" rendered="#{item.panelAusgeklappt}" />
							<x:updateActionListener
								value="#{item.panelAusgeklappt?false:true}"
								property="#{item.panelAusgeklappt}" />
							<f:ajax render="auflistungIntern" />
							<h:outputText value="#{item.titel}" />
						</h:commandLink>
						<x:div
							style="width:90%;margin-top;margin-left:12px;margin-top:5px"
							rendered="#{item.panelAusgeklappt}">
							<!-- Schrittdetails 
						-->
							<ui:include src="includes/task/list_details.xhtml" />
						</x:div>
					</h:panelGroup>
				</x:column>


				<x:column style="text-align:left">
					<f:facet name="header">
						<x:div>
							<!-- Header -->
							<h:outputText value="#{msgs.prozess}" />
							<!-- Sortierung Asc -->
							<h:commandLink action="#{AktuelleSchritteForm.FilterAlleStart}"
								id="sort6"
								rendered="#{AktuelleSchritteForm.sortierung=='prozessAsc'}">
								<h:graphicImage value="/newpages/images/sorting/asc.gif"
									style="vertical-align:middle;margin-left:5px" />
								<x:updateActionListener
									property="#{AktuelleSchritteForm.sortierung}"
									value="prozessDesc" />
							</h:commandLink>
							<!-- Sortierung Desc -->
							<h:commandLink action="#{AktuelleSchritteForm.FilterAlleStart}"
								id="sort7"
								rendered="#{AktuelleSchritteForm.sortierung=='prozessDesc'}">
								<h:graphicImage value="/newpages/images/sorting/desc.gif"
									style="vertical-align:middle;margin-left:5px" />
								<x:updateActionListener
									property="#{AktuelleSchritteForm.sortierung}"
									value="prozessAsc" />
							</h:commandLink>
							<!-- Sortierung none -->
							<h:commandLink action="#{AktuelleSchritteForm.FilterAlleStart}"
								id="sort8"
								rendered="#{AktuelleSchritteForm.sortierung!='prozessDesc' and AktuelleSchritteForm.sortierung!='prozessAsc'}">
								<h:graphicImage value="/newpages/images/sorting/none.gif"
									style="vertical-align:middle;margin-left:5px" />
								<x:updateActionListener
									property="#{AktuelleSchritteForm.sortierung}"
									value="prozessAsc" />
							</h:commandLink>
						</x:div>
					</f:facet>
					<h:panelGrid columns="2">
						<!-- Bearbeiten-Schaltknopf: konkrete Prozesse -->
						<h:commandLink action="process_edit" id="edit1"
							title="#{msgs.prozessBearbeiten}">
							<h:graphicImage value="/newpages/images/buttons/goInto.gif"
								style="margin-right:3px" />
							<x:updateActionListener
								property="#{ProzessverwaltungForm.myProzess}"
								value="#{item.prozess}" />
							<x:updateActionListener
								property="#{ProzessverwaltungForm.modusBearbeiten}" value="" />
						</h:commandLink>
						<h:outputText value="#{item.prozess.titel}" />
					</h:panelGrid>
				</x:column>

				<x:column style="text-align:center"
					rendered="#{AktuelleSchritteForm.anzeigeAnpassen['processDate']}">
					<f:facet name="header">
						<x:div>
							<!-- Header -->
							<h:outputText value="#{msgs.vorgangsdatum}" />
							<!-- Sortierung Asc -->
							<h:commandLink action="#{AktuelleSchritteForm.FilterAlleStart}"
								id="sort10"
								rendered="#{AktuelleSchritteForm.sortierung=='prozessdateAsc'}">
								<h:graphicImage value="/newpages/images/sorting/asc.gif"
									style="vertical-align:middle;margin-left:5px" />
								<x:updateActionListener
									property="#{AktuelleSchritteForm.sortierung}"
									value="prozessdateDesc" />
							</h:commandLink>
							<!-- Sortierung Desc -->
							<h:commandLink action="#{AktuelleSchritteForm.FilterAlleStart}"
								id="sort11"
								rendered="#{AktuelleSchritteForm.sortierung=='prozessdateDesc'}">
								<h:graphicImage value="/newpages/images/sorting/desc.gif"
									style="vertical-align:middle;margin-left:5px" />
								<x:updateActionListener
									property="#{AktuelleSchritteForm.sortierung}"
									value="prozessdateAsc" />
							</h:commandLink>
							<!-- Sortierung none -->
							<h:commandLink action="#{AktuelleSchritteForm.FilterAlleStart}"
								id="sort12"
								rendered="#{AktuelleSchritteForm.sortierung!='prozessdateDesc' and AktuelleSchritteForm.sortierung!='prozessdateAsc'}">
								<h:graphicImage value="/newpages/images/sorting/none.gif"
									style="vertical-align:middle;margin-left:5px" />
								<x:updateActionListener
									property="#{AktuelleSchritteForm.sortierung}"
									value="prozessdateAsc" />
							</h:commandLink>
						</x:div>
					</f:facet>
					<h:outputText value="#{item.prozess.erstellungsdatum}" />
				</x:column>

				<x:column style="text-align:center"
					rendered="#{AktuelleSchritteForm.anzeigeAnpassen['modules']}">
					<f:facet name="header">
						<x:div>
							<!-- Header -->
							<h:outputText value="#{msgs.module}" />
							<!-- Sortierung Asc -->
							<h:commandLink action="#{AktuelleSchritteForm.FilterAlleStart}"
								id="sort13"
								rendered="#{AktuelleSchritteForm.sortierung=='modulesAsc'}">
								<h:graphicImage value="/newpages/images/sorting/asc.gif"
									style="vertical-align:middle;margin-left:5px" />
								<x:updateActionListener
									property="#{AktuelleSchritteForm.sortierung}"
									value="modulesDesc" />
							</h:commandLink>
							<!-- Sortierung Desc -->
							<h:commandLink action="#{AktuelleSchritteForm.FilterAlleStart}"
								id="sort14"
								rendered="#{AktuelleSchritteForm.sortierung=='modulesDesc'}">
								<h:graphicImage value="/newpages/images/sorting/desc.gif"
									style="vertical-align:middle;margin-left:5px" />
								<x:updateActionListener
									property="#{AktuelleSchritteForm.sortierung}"
									value="modulesAsc" />
							</h:commandLink>
							<!-- Sortierung none -->
							<h:commandLink action="#{AktuelleSchritteForm.FilterAlleStart}"
								id="sort15"
								rendered="#{AktuelleSchritteForm.sortierung!='modulesDesc' and AktuelleSchritteForm.sortierung!='modulesAsc'}">
								<h:graphicImage value="/newpages/images/sorting/none.gif"
									style="vertical-align:middle;margin-left:5px" />
								<x:updateActionListener
									property="#{AktuelleSchritteForm.sortierung}"
									value="modulesAsc" />
							</h:commandLink>
						</x:div>
					</f:facet>
					<h:outputText value="#{item.typModulName}" />
				</x:column>

				<x:column style="text-align:center">
					<f:facet name="header">
						<x:div>
							<!-- Header -->
							<h:outputText value="#{msgs.projekt}" />
							<!-- Sortierung Asc -->
							<h:commandLink action="#{AktuelleSchritteForm.FilterAlleStart}"
								id="sort16"
								rendered="#{AktuelleSchritteForm.sortierung=='projektAsc'}">
								<h:graphicImage value="/newpages/images/sorting/asc.gif"
									style="vertical-align:middle;margin-left:5px" />
								<x:updateActionListener
									property="#{AktuelleSchritteForm.sortierung}"
									value="projektDesc" />
							</h:commandLink>
							<!-- Sortierung Desc -->
							<h:commandLink action="#{AktuelleSchritteForm.FilterAlleStart}"
								id="sort17"
								rendered="#{AktuelleSchritteForm.sortierung=='projektDesc'}">
								<h:graphicImage value="/newpages/images/sorting/desc.gif"
									style="vertical-align:middle;margin-left:5px" />
								<x:updateActionListener
									property="#{AktuelleSchritteForm.sortierung}"
									value="projektAsc" />
							</h:commandLink>
							<!-- Sortierung none -->
							<h:commandLink action="#{AktuelleSchritteForm.FilterAlleStart}"
								id="sort18"
								rendered="#{AktuelleSchritteForm.sortierung!='projektDesc' and AktuelleSchritteForm.sortierung!='projektAsc'}">
								<h:graphicImage value="/newpages/images/sorting/none.gif"
									style="vertical-align:middle;margin-left:5px" />
								<x:updateActionListener
									property="#{AktuelleSchritteForm.sortierung}"
									value="projektAsc" />
							</h:commandLink>
						</x:div>
					</f:facet>
					<h:outputText value="#{item.prozess.projekt.titel}" />
				</x:column>

				<!-- +++++++++++++++++  Sperrungen ++++++++++++++++++++++++ -->
				<x:column style="text-align:center"
					rendered="#{AktuelleSchritteForm.anzeigeAnpassen['lockings']}">
					<f:facet name="header">
						<x:div>
							<!-- Header -->
							<h:outputText value="#{msgs.sperrungen}" />
							<!-- Sortierung Asc -->
							<h:commandLink action="#{AktuelleSchritteForm.FilterAlleStart}"
								id="sort19"
								rendered="#{AktuelleSchritteForm.sortierung=='sperrungenAsc'}">
								<h:graphicImage value="/newpages/images/sorting/asc.gif"
									style="vertical-align:middle;margin-left:5px" />
								<x:updateActionListener
									property="#{AktuelleSchritteForm.sortierung}"
									value="sperrungenDesc" />
							</h:commandLink>
							<!-- Sortierung Desc -->
							<h:commandLink action="#{AktuelleSchritteForm.FilterAlleStart}"
								id="sort20"
								rendered="#{AktuelleSchritteForm.sortierung=='sperrungenDesc'}">
								<h:graphicImage value="/newpages/images/sorting/desc.gif"
									style="vertical-align:middle;margin-left:5px" />
								<x:updateActionListener
									property="#{AktuelleSchritteForm.sortierung}"
									value="sperrungenAsc" />
							</h:commandLink>
							<!-- Sortierung none -->
							<h:commandLink action="#{AktuelleSchritteForm.FilterAlleStart}"
								id="sort21"
								rendered="#{AktuelleSchritteForm.sortierung!='sperrungenDesc' and AktuelleSchritteForm.sortierung!='sperrungenAsc'}">
								<h:graphicImage value="/newpages/images/sorting/none.gif"
									style="vertical-align:middle;margin-left:5px" />
								<x:updateActionListener
									property="#{AktuelleSchritteForm.sortierung}"
									value="sperrungenAsc" />
							</h:commandLink>
						</x:div>
					</f:facet>
					<h:outputText value="#{item.benutzerGesperrt.nachVorname}"
						rendered="#{item.prozess.benutzerGesperrt != null}" />
				</x:column>

				<!-- +++++++++++++++++  Batch ID ++++++++++++++++++++++++ -->
				<x:column style="text-align:center"
					rendered="#{AktuelleSchritteForm.anzeigeAnpassen['batchId']}">
					<f:facet name="header">
						<x:div>
							<!-- Header -->
							<h:outputText value="#{msgs.batch}" />
							<!-- Sortierung Asc -->
							<h:commandLink action="#{AktuelleSchritteForm.FilterAlleStart}"
								id="sort19a"
								rendered="#{AktuelleSchritteForm.sortierung=='batchAsc'}">
								<h:graphicImage value="/newpages/images/sorting/asc.gif"
									style="vertical-align:middle;margin-left:5px" />
								<x:updateActionListener
									property="#{AktuelleSchritteForm.sortierung}" value="batchDesc" />
							</h:commandLink>
							<!-- Sortierung Desc -->
							<h:commandLink action="#{AktuelleSchritteForm.FilterAlleStart}"
								id="sort20a"
								rendered="#{AktuelleSchritteForm.sortierung=='batchDesc'}">
								<h:graphicImage value="/newpages/images/sorting/desc.gif"
									style="vertical-align:middle;margin-left:5px" />
								<x:updateActionListener
									property="#{AktuelleSchritteForm.sortierung}" value="batchAsc" />
							</h:commandLink>
							<!-- Sortierung none -->
							<h:commandLink action="#{AktuelleSchritteForm.FilterAlleStart}"
								id="sort21a"
								rendered="#{AktuelleSchritteForm.sortierung!='batchDesc' and AktuelleSchritteForm.sortierung!='batchAsc'}">
								<h:graphicImage value="/newpages/images/sorting/none.gif"
									style="vertical-align:middle;margin-left:5px" />
								<x:updateActionListener
									property="#{AktuelleSchritteForm.sortierung}" value="batchAsc" />
							</h:commandLink>
						</x:div>
					</f:facet>
					<h:outputText value="#{item.prozess.batchID}"
						rendered="#{item.prozess.batchID != null}" />
				</x:column>

				<x:column style="text-align:center">
					<f:facet name="header">
						<x:div>
							<!-- Header -->
							<h:outputText value="#{msgs.status}" />
							<!-- Sortierung Asc -->
							<h:commandLink action="#{AktuelleSchritteForm.FilterAlleStart}"
								id="sort22"
								rendered="#{AktuelleSchritteForm.sortierung=='statusAsc'}">
								<h:graphicImage value="/newpages/images/sorting/asc.gif"
									style="vertical-align:middle;margin-left:5px" />
								<x:updateActionListener
									property="#{AktuelleSchritteForm.sortierung}"
									value="statusDesc" />
							</h:commandLink>
							<!-- Sortierung Desc -->
							<h:commandLink action="#{AktuelleSchritteForm.FilterAlleStart}"
								id="sort23"
								rendered="#{AktuelleSchritteForm.sortierung=='statusDesc'}">
								<h:graphicImage value="/newpages/images/sorting/desc.gif"
									style="vertical-align:middle;margin-left:5px" />
								<x:updateActionListener
									property="#{AktuelleSchritteForm.sortierung}" value="statusAsc" />
							</h:commandLink>
							<!-- Sortierung none -->
							<h:commandLink action="#{AktuelleSchritteForm.FilterAlleStart}"
								id="sort24"
								rendered="#{AktuelleSchritteForm.sortierung!='statusDesc' and AktuelleSchritteForm.sortierung!='statusAsc'}">
								<h:graphicImage value="/newpages/images/sorting/none.gif"
									style="vertical-align:middle;margin-left:5px" />
								<x:updateActionListener
									property="#{AktuelleSchritteForm.sortierung}" value="statusAsc" />
							</h:commandLink>
						</x:div>
					</f:facet>

					<h:graphicImage value="#{item.bearbeitungsstatusEnum.bigImagePath}"
						title="#{item.bearbeitungsstatusEnum.title}" />

					<h:outputText value="!"
						style="color:red;font-weight:bold;font-size:20px;margin-left:5px"
						rendered="#{item.prioritaet == 1}" />
					<h:outputText value="!!"
						style="color:red;font-weight:bold;font-size:20px;margin-left:5px"
						rendered="#{item.prioritaet == 2}" />
					<h:outputText value="!!!"
						style="color:red;font-weight:bold;font-size:20px;margin-left:5px"
						rendered="#{item.prioritaet == 3}" />

					<!-- Popup -->
					<x:popup id="popup" closePopupOnExitingElement="true"
						closePopupOnExitingPopup="true" displayAtDistanceX="-400"
						displayAtDistanceY="5" rendered="#{item.prioritaet == 10}">

						<f:facet name="popup">
							<div>
								<h:panelGrid columns="1" width="400"
									style="background-color:#f3ebeb; font-size:11px; border: 1px solid #a24033; padding: 1px;">

									<x:dataTable var="intern"
										rendered="#{item.eigenschaftenSize!=0}"
										value="#{item.eigenschaftenList}">
										<x:column style="vertical-align: top;">
											<h:outputText value="#{intern.titel}:" />
										</x:column>
										<x:column style="vertical-align: top;">
											<h:outputText value="#{intern.wert}" />
										</x:column>
									</x:dataTable>

								</h:panelGrid>
							</div>
						</f:facet>

						<h:outputText value="#{msgs.correctionK}"
							style="color:red;font-weight:bold;font-size:20px;margin-left:5px" />
					</x:popup>


				</x:column>

				<!-- ===================== Action ====================== -->
				<x:column style="text-align:center" styleClass="action">
					<f:facet name="header">
						<h:outputText value="#{msgs.auswahl}" styleClass="action" />
					</f:facet>

					<!-- Bearbeitung übernehmen-Schaltknopf -->
					<h:commandLink id="take"
						action="#{AktuelleSchritteForm.SchrittDurchBenutzerUebernehmen}"
						rendered="#{(item.bearbeitungsstatusEnum == 'OPEN' and !item.batchStep) or (item.bearbeitungsstatusEnum == 'OPEN' and item.batchStep and !item.batchSize)}"
						title="#{msgs.bearbeitungDiesesSchrittsUebernehmen}">
						<h:graphicImage value="/newpages/images/buttons/admin2a.gif" />
						<x:updateActionListener
							property="#{AktuelleSchritteForm.mySchritt}" value="#{item}" />
					</h:commandLink>

					<!-- Bearbeiten-Schaltknopf (eigener Schritt) -->
					<h:commandLink action="task_edit" id="view1"
						rendered="#{(item.bearbeitungsstatusEnum == 'INWORK' and item.bearbeitungsbenutzer.id == LoginForm.myBenutzer.id and !item.batchStep) or (item.bearbeitungsstatusEnum == 'INWORK' and item.bearbeitungsbenutzer.id == LoginForm.myBenutzer.id and item.batchStep and !item.batchSize)}"
						title="#{msgs.inBearbeitungDurch}: #{item.bearbeitungsbenutzer!=null and item.bearbeitungsbenutzer.id!=0 ? item.bearbeitungsbenutzer.nachVorname:''}">
						<h:graphicImage value="/newpages/images/buttons/admin1b.gif" />
						<x:updateActionListener
							property="#{AktuelleSchritteForm.mySchritt}" value="#{item}" />
					</h:commandLink>

					<!-- Bearbeiten-Schaltknopf (fremder Schritt) -->
					<h:commandLink action="task_edit" id="view2"
						rendered="#{item.bearbeitungsstatusEnum == 'INWORK' and item.bearbeitungsbenutzer.id != LoginForm.myBenutzer.id and (!item.batchStep or !item.batchSize)}"
						title="#{msgs.inBearbeitungDurch}: #{(item.bearbeitungsbenutzer!=null and item.bearbeitungsbenutzer.id!=0 ? item.bearbeitungsbenutzer.nachVorname : '')}">
						<h:graphicImage value="/newpages/images/buttons/admin1c.gif" />
						<x:updateActionListener
							property="#{AktuelleSchritteForm.mySchritt}" value="#{item}" />
					</h:commandLink>

					<!-- edit batch step -->
					<h:commandLink id="batch"
						action="#{AktuelleSchritteForm.TakeOverBatch}"
						rendered="#{item.bearbeitungsstatusEnum == 'OPEN' and item.batchStep and item.batchSize}"
						title="#{msgs.bearbeitungDiesesSchrittsUebernehmen}">
						<h:graphicImage value="/newpages/images/buttons/admin3a.gif" />
						<x:updateActionListener property="#{AktuelleSchritteForm.step}"
							value="#{item}" />
					</h:commandLink>
					<!-- edit batch step -->
					<h:commandLink id="batchInWork"
						action="#{AktuelleSchritteForm.BatchesEdit}"
						rendered="#{item.bearbeitungsstatusEnum == 'INWORK' and item.bearbeitungsbenutzer.id == LoginForm.myBenutzer.id and item.batchStep and item.batchSize}"
						title="#{msgs.bearbeitungDiesesSchrittsUebernehmen}">
						<h:graphicImage value="/newpages/images/buttons/admin3.gif" />
						<x:updateActionListener property="#{AktuelleSchritteForm.step}"
							value="#{item}" />
					</h:commandLink>

					<!-- edit batch step -->
					<h:commandLink id="batchInWorkOther"
						action="#{AktuelleSchritteForm.BatchesEdit}"
						rendered="#{item.bearbeitungsstatusEnum == 'INWORK' and item.bearbeitungsbenutzer.id != LoginForm.myBenutzer.id and item.batchStep and item.batchSize}"
						title="#{msgs.inBearbeitungDurch}: #{(item.bearbeitungsbenutzer!=null and item.bearbeitungsbenutzer.id!=0 ? item.bearbeitungsbenutzer.nachVorname : '')}">
						<h:graphicImage value="/newpages/images/buttons/admin3c.gif" />
						<x:updateActionListener property="#{AktuelleSchritteForm.step}"
							value="#{item}" />
					</h:commandLink>
				</x:column>
				<!-- ===================== // Action ====================== -->

			</x:dataTable>

			<!-- ===================== Datascroller für die Ergebnisse ======================
		 -->
			<x:aliasBean alias="#{mypage}" value="#{AktuelleSchritteForm.page}">
				<ui:include src="includes/datascroller.xhtml" />
			</x:aliasBean>
			<!-- ===================== // Datascroller für die Ergebnisse ====================== -->

			<!-- Schritte auflisten 
		-->
			<ui:include src="includes/task/list_action.xhtml" />

		</h:form>

	</ui:define>

</ui:composition>