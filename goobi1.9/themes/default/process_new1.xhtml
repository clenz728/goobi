<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core" template="/themes/default/template/template.html" xmlns:x="http://myfaces.apache.org/tomahawk">

	<ui:define name="breadcrumb">
		<h:commandLink id="id2" value="#{msgs.startseite}" action="index" />
		<f:verbatim> &#8250;&#8250; </f:verbatim>
		<h:commandLink id="id3" value="#{msgs.prozessverwaltung}" action="process_all" />
		<f:verbatim> &#8250;&#8250; </f:verbatim>
		<h:outputText id="id4" value="#{msgs.einenNeuenProzessAnlegen}" />
	</ui:define>

	<ui:define name="title">
		<h:outputText id="id6" value="#{msgs.einenNeuenProzessAnlegen}" />
	</ui:define>

	<ui:define name="content">

		<h:form>
			<table cellpadding="3" cellspacing="0" width="100%" class="eingabeBoxen">

				<tr>
					<td class="eingabeBoxen_row1" colspan="2">
						<h:outputText value="#{msgs.details}" />
					</td>
				</tr>

				<tr>
					<td style="padding: 10px" class="eingabeBoxen_row2" colspan="2">

						<!-- ######################################## 
				
								Prozessdaten (f체r alle DocTypes)
					
						#########################################-->

						<!--================== Daten aus einem anderen Prozess oder Opac laden ====================-->
						<h:panelGrid columns="3" border="0" width="90%" align="center" rowClasses="rowMiddle"
							rendered="#{ProzesskopieForm.useOpac || ProzesskopieForm.useTemplates}">
							<!-- aus den bereits vorhandenen Prozessen einen ausw채hlen -->
							<h:outputText value="#{msgs.AuswaehlenAusVorhandenenProzessen}" rendered="#{ProzesskopieForm.useTemplates}" />
							<h:selectOneMenu value="#{ProzesskopieForm.auswahl}" rendered="#{ProzesskopieForm.useTemplates}"
								style="margin-left:10px;margin-right:10px; width:200px">
								<f:selectItems value="#{ProzesskopieForm.prozessTemplates}" />
							</h:selectOneMenu>
							<h:commandLink action="#{ProzesskopieForm.TemplateAuswahlAuswerten}" rendered="#{ProzesskopieForm.useTemplates}"
								title="#{msgs.AuswaehlenAusVorhandenenProzessen}">
								<h:graphicImage value="images/buttons/copy.gif" style="vertical-align:middle; margin-right:3px" />
								<h:outputText value="#{msgs.uebernehmen}" />
							</h:commandLink>
							<!-- aus dem Opac ausw채hlen -->
							<h:panelGroup rendered="#{ProzesskopieForm.useOpac}">
								<h:outputText value="#{msgs.sucheImOpac}" style="display:inline" />

								<h:selectOneMenu id="katalogauswahl" value="#{ProzesskopieForm.opacKatalog}" style="display:inline; margin-left:7px">
									<f:selectItems value="#{ProzesskopieForm.allOpacCatalogues}" var="step" itemLabel="#{step}" itemValue="#{step}" />
								</h:selectOneMenu>
								<h:outputText value="#{msgs.feld}" style="display:inline; margin-left:7px" />
								<h:selectOneMenu id="feldauswahl" value="#{ProzesskopieForm.opacSuchfeld}" style="display:inline; margin-left:10px">
									<f:selectItem itemLabel="Identifier" itemValue="12" />
									<f:selectItem itemLabel="Barcode" itemValue="8535" />
									<f:selectItem itemLabel="Barcode 8200" itemValue="8200" />
									<f:selectItem itemLabel="ISBN" itemValue="7" />
									<f:selectItem itemLabel="ISSN" itemValue="8" />
								</h:selectOneMenu>

							</h:panelGroup>
							<h:inputText value="#{ProzesskopieForm.opacSuchbegriff}" rendered="#{ProzesskopieForm.useOpac}"
								style="margin-left:7px;margin-right:7px; width:200px" onkeypress="return checkOpac('OpacRequest',event)" />
							<h:commandLink action="#{ProzesskopieForm.OpacAuswerten}" rendered="#{ProzesskopieForm.useOpac}" title="#{msgs.opacAbfragen}">
								<h:graphicImage value="images/buttons/opac.gif" style="vertical-align:middle; margin-right:3px" />
								<h:outputText value="#{msgs.uebernehmen}" />
							</h:commandLink>
						</h:panelGrid>

						<x:commandButton action="#{ProzesskopieForm.OpacAuswerten}" id="OpacRequest" forceId="true" style="display:none" />

						<h:panelGroup rendered="#{ProzesskopieForm.useOpac || ProzesskopieForm.useTemplates}">
							<f:verbatim>
								<hr width="90%" />
							</f:verbatim>
						</h:panelGroup>

						<!--================== // Daten aus einem anderen Prozess oder Opac laden ====================-->

						<!--================== Prozessdaten ====================-->
						<h:outputText value="#{msgs.prozessdaten}" style="font-size:13;font-weight:bold;color:#00309C" />

						<h:panelGrid columns="2" width="100%" border="0" style="font-size:12;margin-left:30px" rowClasses="rowTop"
							columnClasses="prozessKopieSpalte1,prozessKopieSpalte2">

							<!-- Prozessvorlage -->
							<h:outputText value="#{msgs.prozessvorlage}" />
							<h:outputText value="#{ProzesskopieForm.prozessVorlage.titel}" />

							<!-- ProzessTitel -->
							<h:outputText value="#{msgs.prozessTitel}" />
							<h:panelGroup>
								<h:inputText value="#{ProzesskopieForm.prozessKopie.titel}" styleClass="prozessKopieFeldbreite" />
								<h:commandLink action="#{ProzesskopieForm.CalcProzesstitel}" value="#{msgs.generieren}" />
							</h:panelGroup>

							<!-- DocType -->
							<h:outputText value="DocType" rendered="#{ProzesskopieForm.standardFields.doctype}" />
							<h:selectOneMenu value="#{ProzesskopieForm.docType}" rendered="#{ProzesskopieForm.standardFields.doctype}" onchange="submit()"
								styleClass="prozessKopieFeldbreite">

								<f:selectItems value="#{ProzesskopieForm.allDoctypes}" var="step" itemLabel="#{step.localizedLabel}" itemValue="#{step.title}" />
							</h:selectOneMenu>

							<!-- Preferences -->
							<h:outputLabel for="Regelsatz" rendered="#{ProzesskopieForm.standardFields.preferences}" value="#{msgs.regelsatz}" />
							<h:panelGroup rendered="#{ProzesskopieForm.standardFields.preferences}">
								<h:selectOneMenu id="Regelsatz" value="#{ProzesskopieForm.prozessKopie.regelsatz}" converter="RegelsatzConverter"
									onchange="document.getElementById('OpacRequest').click()" styleClass="prozessKopieFeldbreite" required="true">
									<f:selectItems value="#{HelperForm.regelsaetze}" />
								</h:selectOneMenu>
								<x:message for="Regelsatz" style="color: red" replaceIdWithLabel="true" />
							</h:panelGroup>

							<!-- digitale Kollektion -->
							<h:outputLabel for="digitaleKollektionen" rendered="#{ProzesskopieForm.standardFields.collections}" value="#{msgs.digitaleKollektionen}" />
							<h:selectManyListbox id="digitaleKollektionen" styleClass="prozessKopieFeldbreite" rendered="#{ProzesskopieForm.standardFields.collections}"
								value="#{ProzesskopieForm.digitalCollections}">
								<f:selectItems value="#{ProzesskopieForm.possibleDigitalCollections}" var="step" itemLabel="#{step}" itemValue="#{step}" />
							</h:selectManyListbox>

							<!-- Tifheader - Documentname -->
							<h:outputText value="#{msgs.tifheaderdocumentname}" />
							<h:inputText value="#{ProzesskopieForm.tifHeader_documentname}" styleClass="prozessKopieFeldbreite" />

							<!-- Tifheader - Imagedescription -->
							<h:outputText value="#{msgs.tifheaderimagedescription}" />
							<h:inputText value="#{ProzesskopieForm.tifHeader_imagedescription}" styleClass="prozessKopieFeldbreite" />

							<h:outputText value="#{msgs.inAuswahllisteAnzeigen}" rendered="#{ProzesskopieForm.useTemplates}" />
							<h:selectBooleanCheckbox rendered="#{ProzesskopieForm.useTemplates}" value="#{ProzesskopieForm.prozessKopie.inAuswahllisteAnzeigen}" />


							<h:outputText value="#{msgs.guessImages}" rendered="#{ProzesskopieForm.standardFields.images}" />
							<h:inputText value="#{ProzesskopieForm.imagesGuessed}" rendered="#{ProzesskopieForm.standardFields.images}" styleClass="prozessKopieFeldbreite" />

						</h:panelGrid>


						<!-- ######################################## 
				
								zus채tzliche Daten aus der Konfiguration
					
	#########################################-->
						<h:panelGroup>
							<f:verbatim>
								<hr width="90%" />
							</f:verbatim>
						</h:panelGroup>

						<h:outputText value="#{msgs.zusaetzlicheDetails}" style="font-size:13;font-weight:bold;color:#00309C" />

						<table style="margin-left: 30px" cellspacing="0">
							<x:dataList var="intern" style="font-weight: normal;margin-left:30px" value="#{ProzesskopieForm.additionalFields}" layout="ordered list"
								rowCountVar="rowCount" rowIndexVar="rowIndex">
								<h:panelGroup rendered="#{intern.showDependingOnDoctype}">

									<tr>
										<td width="150">
											<h:outputText value="#{intern.titel}:" />
										</td>
										<td>
											<h:inputText value="#{intern.wert}" styleClass="prozessKopieFeldbreite" rendered="#{intern.selectList==null}" />
											<!--  		<h:selectOneMenu  value="#{intern.wert}" styleClass="prozessKopieFeldbreite" rendered="#{intern.selectList!=null}">
					<f:selectItems value="#{intern.selectList}" />
				</h:selectOneMenu> -->
											<h:selectOneListbox value="#{intern.wert}" styleClass="prozessKopieFeldbreite" rendered="#{intern.selectList!=null}">
												<f:selectItems value="#{intern.selectList}" />
											</h:selectOneListbox>
											<h:outputText value="*" rendered="#{intern.required}" />
										</td>
									</tr>
								</h:panelGroup>
							</x:dataList>

							<tr class="rowTop">
								<td width="150" style="">
									<h:outputText value="#{msgs.addToProcessLog}:" />
								</td>
								<td>
									<h:inputTextarea value="#{ProzesskopieForm.addToWikiField}" styleClass="prozessKopieFeldbreite" />
								</td>
							</tr>

						</table>
						<h:outputText value="#{msgs.requiredField}" />

					</td>
				</tr>

				<tr>
					<td class="eingabeBoxen_row3" align="left">
						<h:commandButton value="#{msgs.abbrechen}" immediate="true" action="process_all">
						</h:commandButton>
					</td>
					<td class="eingabeBoxen_row3" align="right">
						<h:commandButton value="#{msgs.weiter}" rendered="#{ProzesskopieForm.prozessKopie.eigenschaftenSize>0}" action="#{ProzesskopieForm.GoToSeite2}">
						</h:commandButton>
						<h:commandButton value="#{msgs.speichern}" rendered="#{ProzesskopieForm.prozessKopie.eigenschaftenSize==0}"
							action="#{ProzesskopieForm.NeuenProzessAnlegen}">
						</h:commandButton>
					</td>
				</tr>
			</table>

		</h:form>

	</ui:define>

</ui:composition>






