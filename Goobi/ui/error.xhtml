<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core" template="/ui/template/template.html" xmlns:x="http://myfaces.apache.org/tomahawk">

	<ui:define name="title">
		<title>Custom Exception Page</title>

	</ui:define>


	<ui:define name="content">
		<script type="text/javascript">
			function show_txt() {
				if (document.getElementById('errorForm:stacktrace').style.display == 'block') {
					document.getElementById('errorForm:stacktrace').style.display = "none";
				} else {
					document.getElementById('errorForm:stacktrace').style.display = "block";
				}
			}
		</script>

		<h1 class="headLineError">#{msgs.failure}</h1>

		<h:form styleClass="formError" id="errorForm">
			<p>#{msgs.generalError}</p>
			<br />
			<h:outputText value="#{msgs.details}:" />
			<div>
				<p>
					<h:outputText value="#{msgs.errorText} " />
				</p>
				<p>#{errorDetails}</p>
				<br />

				<h:outputText value="#{msgs.errorDescriptionText}" />
				<h:button onclick="show_txt(); return false;" title="#{msgs.showErrorDetails}" value="#{msgs.showErrorDetails}" />


				<h:panelGroup id="stacktrace" style="display:none;">

					<h:outputText value="#{msgs.errorReportDescription}" />

					<br />
					<div style="border-style: inset; border-width: medium; border-color: #063555">
						<h:outputText value="#{errorDetails}" />
						<br />
						<x:dataList value="#{stacktrace}" var="e" rowIndexVar="row">
							<h:outputText value="#{e}" rendered="#{row == 0}" />
							<h:outputText value="#{e}" style="position:relative; left: 50px;" rendered="#{row != 0 and row lt 15}" />

							<h:panelGroup rendered="#{row lt 15}">
								<br />
							</h:panelGroup>
						</x:dataList>
					</div>

				</h:panelGroup>


			</div>
			<p>
				<h:outputLink value="#{HelperForm.servletPathAsUrl}">
					<h:outputText value="#{msgs.returnHome}" />
				</h:outputLink>
			</p>
		</h:form>

	</ui:define>
</ui:composition>
