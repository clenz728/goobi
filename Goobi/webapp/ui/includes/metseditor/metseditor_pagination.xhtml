<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:composite="http://xmlns.jcp.org/jsf/composite" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:x="http://myfaces.apache.org/tomahawk" xmlns:s="http://myfaces.apache.org/sandbox" xmlns:p="http://primefaces.org/ui">

    <composite:interface>
    </composite:interface>

    <composite:implementation>
        <h3 style="margin-top: 0px">
            <h:outputText value="#{msgs.paginierung}" />
        </h3>

        <h:commandLink action="#{Metadaten.createPagination}" value="#{msgs.paginierungEinlesen}">
            <f:ajax execute="@form" render="@form" />
        </h:commandLink>
        <h:panelGrid id="mygrid10" columns="2" style="margin:0px;">

            <!-- ++++++++++++++++     Auswahl der Seiten      ++++++++++++++++ -->
            <h:panelGroup rendered="#{Metadaten.alleSeiten !=null}">
                <table cellpadding="3" cellspacing="0" width="200px" class="eingabeBoxen" style="margin-top: 3px" id="pagination-list">
                    <tr>
                        <td class="eingabeBoxen_row1">
                            <h:outputText value="#{msgs.auswahlDerSeiten}" />
                        </td>
                    </tr>
                    <tr>
                        <td id="PaginierungAlleImages" class="eingabeBoxen_row2">
                            <h:selectManyCheckbox layout="pageDirection" id="myCheckboxes" value="#{Metadaten.alleSeitenAuswahl}">
                                <f:selectItems value="#{Metadaten.alleSeiten}" id="myCheckbox" />
                            </h:selectManyCheckbox>
                        </td>
                    </tr>
                </table>
            </h:panelGroup>
            <!-- ++++++++++++++++     // Auswahl der Seiten      ++++++++++++++++ -->

            <!-- ++++++++++++++++     Spacer for valid HTML     ++++++++++++++++ -->
            <h:panelGroup rendered="#{Metadaten.alleSeiten ==null}">
                <table style="display: none" />
            </h:panelGroup>
            <!-- ++++++++++++++++     // Auswahl der Seiten      ++++++++++++++++ -->

            <h:panelGrid id="mygrid11" columns="1" width="270px" style="margin:0px;">
                <!-- ++++++++++++++++     Paginierung festlegen      ++++++++++++++++ -->
                <h:panelGroup rendered="#{Metadaten.alleSeiten !=null}" style="position: fixed;  left: #{Metadaten.treeWidth+270}px; top: 157px;" id="paginationBox" layout="block">
                    <table cellpadding="3" cellspacing="0" id="PaginierungActionBox" class="eingabeBoxen" style="width: 320px;">
                        <tr>
                            <td class="eingabeBoxen_row1">
                                <h:outputText value="#{msgs.paginierungFestlegen}" />
                            </td>
                        </tr>
                        <tr>

                            <td class="eingabeBoxen_row2">
                                <h:selectOneMenu value="#{Metadaten.paginierungArt}" style="width: 270px;margin-top:10px;margin-left:5px" onchange="paginierungWertAnzeigen(this);">
                                    <f:selectItem itemValue="1" itemLabel="#{msgs.arabisch}" />
                                    <f:selectItem itemValue="2" itemLabel="#{msgs.roemisch}" />
                                    <f:selectItem itemValue="3" itemLabel="#{msgs.unnummeriert}" />
                                    <f:selectItem itemValue="6" itemLabel="#{msgs.paginationFreetext}" />
                                </h:selectOneMenu>
                                <br />
                                <x:inputText id="paginierungWert" forceId="true" value="#{Metadaten.paginierungWert}" style="width: 270px;margin-top:10px;margin-bottom:5px;margin-left:5px" />
                                <br />

                                <div style="margin-top: 5px; margin-bottom: 10px">
                                    <h:selectBooleanCheckbox id="checkbox-fictitious" value="#{Metadaten.fictitious}" />
                                    <h:outputLabel for="checkbox-fictitious" value="#{msgs.paginationFictitious}" />
                                </div>
                                <br />

                                <h:commandLink rendered="#{Metadaten.paginierungSeitenProImage!=1}" title="#{msgs.seitenzaehlung}">
                                    <h:graphicImage value="images/buttons/paginierung_seite_inactive.png" style="margin-left:4px;margin-right:6px;vertical-align:middle" />
                                    <x:updateActionListener value="1" property="#{Metadaten.paginierungSeitenProImage}" />
                                    <f:ajax execute="@form" render="@form" />
                                </h:commandLink>

                                <h:graphicImage rendered="#{Metadaten.paginierungSeitenProImage==1}" value="images/buttons/paginierung_seite.png" style="margin-left:4px;margin-right:6px;vertical-align:middle" title="#{msgs.seitenzaehlung}" />
                                <h:commandLink rendered="#{Metadaten.paginierungSeitenProImage!=2}" title="#{msgs.spaltenzaehlung}">
                                    <h:graphicImage value="images/buttons/paginierung_spalte_inactive.png" style="margin-left:4px;margin-right:6px;vertical-align:middle" />
                                    <x:updateActionListener value="2" property="#{Metadaten.paginierungSeitenProImage}" />
                                    <f:ajax execute="@form" render="@form" />
                                </h:commandLink>

                                <h:graphicImage rendered="#{Metadaten.paginierungSeitenProImage==2}" value="images/buttons/paginierung_spalte.png" style="margin-left:4px;margin-right:6px;vertical-align:middle" title="#{msgs.spaltenzaehlung}" />
                                <h:commandLink rendered="#{Metadaten.paginierungSeitenProImage!=3}" title="#{msgs.blattzaehlung}">
                                    <h:graphicImage value="images/buttons/paginierung_blatt_inactive.png" style="margin-left:4px;margin-right:6px;vertical-align:middle" />
                                    <x:updateActionListener value="3" property="#{Metadaten.paginierungSeitenProImage}" />
                                    <f:ajax execute="@form" render="@form" />
                                </h:commandLink>

                                <h:graphicImage rendered="#{Metadaten.paginierungSeitenProImage==3}" value="images/buttons/paginierung_blatt.png" style="margin-left:4px;margin-right:6px;vertical-align:middle" title="#{msgs.blattzaehlung}" />
                                <h:commandLink rendered="#{Metadaten.paginierungSeitenProImage!=4}" title="#{msgs.blattzaehlungrectoverso}">
                                    <h:graphicImage value="images/buttons/paginierung_blatt_rectoverso_inactive.png" style="margin-left:4px;margin-right:6px;vertical-align:middle" />
                                    <x:updateActionListener value="4" property="#{Metadaten.paginierungSeitenProImage}" />
                                    <f:ajax execute="@form" render="@form" />
                                </h:commandLink>

                                <h:graphicImage rendered="#{Metadaten.paginierungSeitenProImage==4}" value="images/buttons/paginierung_blatt_rectoverso.png" style="margin-left:4px;margin-right:6px;vertical-align:middle" title="#{msgs.blattzaehlungrectoverso}" />
                                <h:commandLink rendered="#{Metadaten.paginierungSeitenProImage!=5}" title="#{msgs.seitenzaehlungrectoverso}">
                                    <h:graphicImage value="images/buttons/paginierung_seite_rectoverso_inactive.png" style="margin-left:4px;margin-right:6px;vertical-align:middle" />
                                    <x:updateActionListener value="5" property="#{Metadaten.paginierungSeitenProImage}" />
                                    <f:ajax execute="@form" render="@form" />
                                </h:commandLink>

                                <h:graphicImage rendered="#{Metadaten.paginierungSeitenProImage==5}" value="images/buttons/paginierung_seite_rectoverso.png" style="margin-left:4px;margin-right:6px;vertical-align:middle" title="#{msgs.seitenzaehlungrectoverso}" />
                                <br />
                                <br />
                                <h:commandLink id="s4" action="#{Metadaten.Paginierung}" style="margin-top:15px">
                                    <h:outputText value="#{msgs.nurDieMarkiertenSeiten}" />
                                    <x:updateActionListener property="#{Metadaten.paginierungAbSeiteOderMarkierung}" value="2" />
                                    <f:ajax execute="@form" render="@form" />
                                </h:commandLink>
                                <br style="margin-top: 15px" />
                                <h:commandLink id="s5" action="#{Metadaten.Paginierung}" style="margin-top:15px">
                                    <h:outputText value="#{msgs.abDerErstenMarkiertenSeite}" />
                                    <x:updateActionListener property="#{Metadaten.paginierungAbSeiteOderMarkierung}" value="1" />
                                    <f:ajax execute="@form" render="@form" />
                                </h:commandLink>
                            </td>
                        </tr>
                    </table>

                    <h:panelGroup rendered="#{Metadaten.displayFileManipulation}">
                        <table cellpadding="3" cellspacing="0" id="PaginierungActionBox" class="eingabeBoxen" style="width: 320px; margin-top: 10px;">
                            <tr>
                                <td class="eingabeBoxen_row1">
                                    <h:outputText value="#{msgs.pageOrder}" />
                                </td>
                            </tr>
                            <tr>
                                <td class="eingabeBoxen_row2">
                                    <h:commandLink action="#{Metadaten.moveSeltectedPagesUp}">
                                        <h:graphicImage value="images/buttons/up_20px.gif" style="margin-left:4px;margin-right:6px;vertical-align:middle" />
                                        <h:outputText value="#{msgs.moveSeltectedPagesUp}" />
                                        <f:ajax execute="@form" render=":mygrid10" />
                                    </h:commandLink>
                                </td>
                            </tr>
                            <tr>
                                <td class="eingabeBoxen_row2">
                                    <h:commandLink action="#{Metadaten.moveSeltectedPagesDown}">
                                        <h:graphicImage value="images/buttons/down_20px.gif" style="margin-left:4px;margin-right:6px;vertical-align:middle" />
                                        <h:outputText value="#{msgs.moveSeltectedPagesDown}" />
                                        <f:ajax execute="@form" render=":mygrid10" />
                                    </h:commandLink>
                                </td>
                            </tr>
                            <tr>
                                <td class="eingabeBoxen_row2">
                                    <h:commandLink action="#{Metadaten.deleteSeltectedPages}" onclick="if (!confirm('#{msgs.wirklichAusfuehren}')) return false">
                                        <h:graphicImage value="images/buttons/waste1a_20px.gif" style="margin-left:4px;margin-right:6px;vertical-align:middle" />
                                        <h:outputText value="#{msgs.deleteSeltectedPages}" />
                                        <f:ajax execute="@form" render="@form" />
                                    </h:commandLink>
                                </td>
                            </tr>
                            <tr>
                                <td class="eingabeBoxen_row2">
                                    <h:commandLink action="#{Metadaten.reOrderPagination}" onclick="displayProgressBar()">
                                        <h:graphicImage value="images/buttons/reload.gif" style="margin-left:4px;margin-right:6px;vertical-align:middle" />
                                        <h:outputText value="#{msgs.reOrder}" />
                                        <f:ajax execute="@form" render="@form :progressform" />
                                    </h:commandLink>
                                    <script type="text/javascript">
            								$(document).ready(
												function() {
            										var additionalHeight = $('#validation').outerHeight();
            										$('#paginationBox').css('top', 157 + additionalHeight + 'px');
													});
									</script>
                                </td>
                            </tr>






                        </table>

                    </h:panelGroup>


                </h:panelGroup>
                <!-- ++++++++++++++++     // Paginierung festlegen      ++++++++++++++++ -->




            </h:panelGrid>
        </h:panelGrid>
    </composite:implementation>

</ui:composition>


