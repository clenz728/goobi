<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core" template="/ui/template/template.html" xmlns:x="http://myfaces.apache.org/tomahawk">

	<ui:define name="breadcrumb">
		<h:commandLink id="id2" value="#{msgs.startseite}" action="index" />
		<f:verbatim> &#8250;&#8250; </f:verbatim>
		<h:commandLink id="id3" value="#{msgs.batches}" action="batch_all" />
		<f:verbatim> &#8250;&#8250; </f:verbatim>
		<h:outputText id="id4" value="#{msgs.detailsOfBatch}" />

	</ui:define>

	<ui:define name="title">
		<h:outputText id="id6" value="#{msgs.detailsOfBatch}" />
	</ui:define>

	<ui:define name="content">

		<table cellpadding="3" cellspacing="0" style="width: 100%">
			<tr style="vertical-align: top">
				<td width="50%">

					<h4>
						<h:outputText id="id4b" value="#{msgs.prozesse}" />
					</h4>
					<h:form rendered="#{((LoginForm.maximaleBerechtigung == 1) || (LoginForm.maximaleBerechtigung == 2))}">
						<table cellpadding="3" cellspacing="0" width="100%" class="eingabeBoxen">
							<tr>
								<td class="eingabeBoxen_row1">
									<h:outputText value="#{msgs.processesInThisBatch}" />
								</td>
							</tr>
							<tr>
								<td class="eingabeBoxen_row2">
									<h:selectOneListbox value="#{BatchForm.batchHelper.processName}" style="width:100%;margin-top:5px;margin-bottom:5px;display:block;" size="20">
										<f:selectItems var="process" value="#{BatchForm.batchHelper.processNameList}" itemLabel="#{process}" itemValue="#{process}" />
									</h:selectOneListbox>
									<h:commandLink action="#{NavigationForm.Reload}">
										<h:graphicImage alt="reload" value="images/buttons/reload_doc.gif" style="vertical-align:middle;margin-bottom:5px;" />
										<h:outputText value="#{msgs.showDataForProcess}" />
									</h:commandLink>
								</td>
							</tr>
						</table>
					</h:form>
				</td>

				<td width="50%">
					<h4>
						<h:outputText id="id4a" value="#{msgs.eigenschaften}" />
					</h4>
					<h:form rendered="#{LoginForm.maximaleBerechtigung == 1}">




						<h:panelGroup rendered="#{BatchForm.modusBearbeiten!='eigenschaft' and BatchForm.batchHelper.propertyListSize gt 0}">


							<table cellspacing="1px" cellpadding="1px" width="100%" class="standardTable">

								<thead class="standardTable_Header">
									<th>
										<h:outputText value="#{msgs.titel}" />
									</th>
									<th>
										<h:outputText value="#{msgs.wert}" />
									</th>
									<th>
										<h:outputText value="#{msgs.auswahl}" />
									</th>
								</thead>


								<x:dataList var="container" value="#{BatchForm.batchHelper.containerList}" rowCountVar="rowCount" rowIndexVar="rowIndex">
									<x:dataList var="proc" value="#{BatchForm.batchHelper.containerlessProperties}" rowCountVar="propCount" rowIndexVar="propInd">
										<h:panelGroup rendered="#{container==0 }">
											<tr class="standardTable_Row1">
												<td>
													<h:outputText value="#{proc.name}" />
												</td>
												<td>
													<h:outputText value="#{proc.value}" rendered="#{proc.type.name != 'link'}"/>
													<h:outputLink value="#{proc.value}" title="#{proc.value}" target="_blank" rendered="#{proc.type.name == 'link'}">
														<h:outputText value="#{proc.value}" />
													</h:outputLink>
												</td>
												<td class="standardTable_ColumnCentered">
													<h:commandLink action="batch_edit" title="#{msgs.bearbeiten}">
														<h:graphicImage value="images/buttons/edit.gif" />
														<x:updateActionListener property="#{BatchForm.batchHelper.processProperty}" value="#{proc}" />
														<x:updateActionListener property="#{BatchForm.batchHelper.container}" value="0" />
														<x:updateActionListener property="#{BatchForm.modusBearbeiten}" value="eigenschaft" />
													</h:commandLink>
												</td>
											</tr>
										</h:panelGroup>

									</x:dataList>

									<h:panelGroup rendered="#{rowIndex lt rowCount and rowIndex != 0}">
										<tr>
											<td colspan="3" class="standardTable_Row1">
												<h:outputText value="&amp;nbsp;" escape="false" />
											</td>
										</tr>
									</h:panelGroup>

									<x:dataList var="process_item" value="#{BatchForm.batchHelper.containers[container].propertyList}" rowCountVar="propCount"
										rowIndexVar="propInd">
										<h:panelGroup rendered="#{container!=0 }">

											<tr class="standardTable_Row1">
												<td>
													<h:outputText value="#{process_item.name}" />
												</td>
												<td>
													<h:outputText value="#{process_item.value}" />
												</td>
												<h:panelGroup rendered="#{propInd ==0}">


													<td class="standardTable_ColumnCentered" rowspan="#{BatchForm.batchHelper.containers[container].propertyListSizeString}">
														<!-- edit container -->
														<h:panelGroup>
															<h:commandLink action="batch_edit" title="#{msgs.bearbeiten}">
																<h:graphicImage value="images/buttons/edit.gif" />
																<x:updateActionListener property="#{BatchForm.batchHelper.container}" value="#{container}" />
																<x:updateActionListener property="#{BatchForm.modusBearbeiten}" value="eigenschaft" />
															</h:commandLink>

														</h:panelGroup>
													</td>
												</h:panelGroup>
											</tr>
										</h:panelGroup>

									</x:dataList>

								</x:dataList>

							</table>
						</h:panelGroup>







						<!-- // Box für die Bearbeitung der Details -->
						<h:panelGroup rendered="#{BatchForm.modusBearbeiten=='eigenschaft'}">

							<!-- Box für die Bearbeitung der Details -->
							<table cellpadding="3" cellspacing="0" width="100%" class="eingabeBoxen">

								<tr>
									<td class="eingabeBoxen_row1" colspan="2">
										<h:outputText value="#{msgs.eigenschaft}" />
									</td>
								</tr>

								<!-- Formular für die Bearbeitung der Eigenschaft -->
								<tr>
									<td class="eingabeBoxen_row2" colspan="2">
										<table>

											<x:dataList var="myprocess_item" value="#{BatchForm.batchHelper.containerProperties}">

												<!-- 	<x:aliasBean alias="#{myprocess_item}" value="#{BatchForm.batchHelper.processProperty}">-->
												<tr>
													<td>
														<h:outputText style="margin-right:15px" value="#{myprocess_item.name}: " />
													</td>
													<td>
														<!-- textarea -->
														<h:panelGroup rendered="#{((myprocess_item.type.name == 'text') or (myprocess_item.type.name == 'link') or (myprocess_item.type.name == 'null'))}">
															<h:inputText style="width: 500px;margin-right:15px" readonly="#{myprocess_item.showProcessGroupAccessCondition == 'READ'}"
																value="#{myprocess_item.value}" />
														</h:panelGroup>
														<!-- numbers only -->
														<h:panelGroup rendered="#{myprocess_item.type.name == 'integer' or myprocess_item.type.name == 'number'}">

															<h:inputText readonly="#{myprocess_item.showProcessGroupAccessCondition == 'READ'}"
																style="width: 500px;margin-right:15px" value="#{myprocess_item.value}">
																<f:validateLongRange minimum="0" />
															</h:inputText>
														</h:panelGroup>
														<!--  SelectOneMenu -->
														<h:panelGroup rendered="#{(myprocess_item.type.name == 'list')}">
															<h:selectOneMenu value="#{myprocess_item.value}" readonly="#{myprocess_item.showProcessGroupAccessCondition == 'READ'}"
																style="margin-right:15px" id="prpvw15_2_1">
																<f:selectItems ivalue="#{myprocess_item.possibleValues}" var="myprocess_items" itemLabel="#{myprocess_items}"
																	itemValue="#{myprocess_items}" />
															</h:selectOneMenu>
														</h:panelGroup>
														<!--  SelectManyMenu -->
														<h:panelGroup rendered="#{(myprocess_item.type.name == 'listmultiselect')}">
															<h:selectManyListbox  readonly="#{myprocess_item.showProcessGroupAccessCondition == 'READ'}" style="margin-right:15px"
																value="#{myprocess_item.valueList}" size="5">
																<f:selectItems  value="#{myprocess_item.possibleValues}" var="myprocess_items" itemLabel="#{myprocess_items}"
																	itemValue="#{myprocess_items}" />
															</h:selectManyListbox>
														</h:panelGroup>
														<!--  Boolean -->
														<h:panelGroup  rendered="#{(myprocess_item.type.name == 'boolean')}">
															<h:selectBooleanCheckbox readonly="#{myprocess_item.showProcessGroupAccessCondition == 'READ'}" value="#{myprocess_item.booleanValue}" />
														</h:panelGroup>
														<!--  Date  -->
														<h:panelGroup rendered="#{(myprocess_item.type.name == 'date')}">
															<x:inputCalendar style="width:110px" readonly="#{myprocess_item.showProcessGroupAccessCondition == 'READ'}"
																value="#{myprocess_item.dateValue}" renderAsPopup="true" renderPopupButtonAsImage="true" popupTodayString="#{msgs.heute}"
																popupWeekString="#{msgs.kw}" imageLocation="images/calendarImages" popupButtonImageUrl="images/calendarImages/calendar.gif" />

														</h:panelGroup>

													</td>
												</tr>
											</x:dataList>
										</table>
									</td>
								</tr>

								<tr>
									<td class="eingabeBoxen_row3" align="left">
										<h:commandButton value="#{msgs.abbrechen}" action="#{NavigationForm.Reload}" immediate="true">
											<x:updateActionListener property="#{BatchForm.modusBearbeiten}" value="" />
										</h:commandButton>
									</td>
									<td class="eingabeBoxen_row3" align="right">
										<h:commandButton value="#{msgs.applyToThisProcess}" action="#{BatchForm.batchHelper.saveCurrentProperty}">

											<x:updateActionListener property="#{BatchForm.modusBearbeiten}" value="" />
										</h:commandButton>
										<h:commandButton value="#{msgs.applyToAllProcesses}" action="#{BatchForm.batchHelper.saveCurrentPropertyForAll}">
											<x:updateActionListener property="#{BatchForm.modusBearbeiten}" value="" />
										</h:commandButton>
									</td>
								</tr>
							</table>
						</h:panelGroup>
					</h:form>
				</td>
			</tr>
		</table>

	</ui:define>

</ui:composition>






